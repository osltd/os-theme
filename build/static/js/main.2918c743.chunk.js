(this["webpackJsonpoh-my-blog"]=this["webpackJsonpoh-my-blog"]||[]).push([[0],{103:function(e,t,a){},125:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},145:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),l=a.n(r),s=(a(68),a(6)),i=a.n(s),o=a(3),m=a(23),u=(a(70),a(4)),d=(a(71),a(7));var p=Object(d.b)((function(e){return{shop:e.shop.session,cart:e.cart}}))((function(e){var t=Object(m.g)(),a=Object(n.useState)(!1),r=Object(u.a)(a,2),l=r[0],s=r[1],i=Object(n.useState)(!1),d=Object(u.a)(i,2),p=d[0],f=d[1],h=e.shop,g=e.cart;return Object(n.useEffect)((function(){return window.onscroll=function(){s(window.pageYOffset>69)},function(){window.onscroll=null}}),[]),c.a.createElement("div",{className:"navBar",style:{boxShadow:l?"0px 1px 8px #dddddd":"none",border:"0.5px solid #dddddd"}},c.a.createElement("div",{className:"navBar-wrapper"},c.a.createElement("div",{className:"navBar-item title"},h.logo.length>0?c.a.createElement("img",{className:"logo",src:h.logo}):null,c.a.createElement("h2",null,h.name)),c.a.createElement("div",{className:"navBar-item"},c.a.createElement(o.b,{to:"/",style:{fontWeight:"/"===t.pathname?500:300}},"Home")),c.a.createElement("div",{className:"navBar-item"},c.a.createElement(o.b,{to:"/blogs",style:{fontWeight:t.pathname.startsWith("/blogs")?500:300}},"Blog")),c.a.createElement("div",{className:"navBar-item"},c.a.createElement(o.b,{to:"/products",style:{fontWeight:t.pathname.startsWith("/products")?500:300}},"Shop")),c.a.createElement("div",{className:"navBar-item"},c.a.createElement(o.b,{to:"/cart"},g.items.length>0?c.a.createElement("span",{className:"count"},g.items.length):null,c.a.createElement("i",{className:"fas fa-shopping-cart"}))),c.a.createElement("div",{className:"navBar-item"},c.a.createElement(o.b,{to:"/users"},c.a.createElement("i",{className:"fas fa-user"})))),c.a.createElement("div",{className:"navBar-wrapper-mobile"},c.a.createElement("div",{className:"top-body"},c.a.createElement("button",{className:"expand-btn",onClick:function(){return f(!p)}},p?c.a.createElement("i",{className:"fas fa-times"}):c.a.createElement("i",{className:"fas fa-bars"})),c.a.createElement("div",{className:"navBar-item title"},h.logo.length>0?c.a.createElement("img",{className:"logo",src:h.logo}):null,c.a.createElement("h2",null,h.name)),c.a.createElement("div",{className:"fast-link"},c.a.createElement(o.b,{to:"/cart",onClick:function(){return f(!1)}},g.items.length>0?c.a.createElement("span",{className:"count"},g.items.length):null,c.a.createElement("i",{className:"fas fa-shopping-cart"}))),c.a.createElement("div",{className:"fast-link"},c.a.createElement(o.b,{to:"/users",onClick:function(){return f(!1)}},c.a.createElement("i",{className:"fas fa-user"})))),c.a.createElement("div",{className:"navBar-item-list ".concat(p?"expand":"")},c.a.createElement("div",{className:"navBar-item"},c.a.createElement(o.b,{to:"/",style:{fontWeight:"/"===t.pathname?500:300},onClick:function(){return f(!1)}},"Home")),c.a.createElement("div",{className:"navBar-item"},c.a.createElement(o.b,{to:"/blogs",style:{fontWeight:t.pathname.startsWith("/blogs")?500:300},onClick:function(){return f(!1)}},"Blog")),c.a.createElement("div",{className:"navBar-item"},c.a.createElement(o.b,{to:"/products",style:{fontWeight:t.pathname.startsWith("/products")?500:300},onClick:function(){return f(!1)}},"Shop")))))}));a(77);var f=Object(d.b)((function(e){return{shop:e.shop.session,settings:e.shop.settings}}))((function(e){var t=e.shop,a=e.settings;return c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"cols"},c.a.createElement("div",{className:"col shop"},c.a.createElement("div",{className:"shop-title"},t.name),c.a.createElement("div",{className:"shop-desc"},t.description)),c.a.createElement("div",{className:"col links"},c.a.createElement(o.b,{to:"/"},"Home"),c.a.createElement(o.b,{to:"/blogs"},"Blog"),c.a.createElement(o.b,{to:"/products"},"Shop"),c.a.createElement(o.b,{to:"/cart"},"Cart"),c.a.createElement(o.b,{to:"/users"},"My Account")),c.a.createElement("div",{className:"col links"},c.a.createElement(o.b,{to:"/pages/terms_and_conditions"},"Terms and Conditions"),c.a.createElement(o.b,{to:"/pages/privacy_policy"},"Privacy Policy"),c.a.createElement(o.b,{to:"/pages/shipping_policy"},"Shipping Policy")),c.a.createElement("div",{className:"col links social"},function(){var e={facebook:"fab fa-facebook",instagram:"fab fa-instagram",twitter:"fab fa-twitter",youtube:"fab fa-youtube",pinterest:"fab fa-pinterest"},t=((a||{}).links||{}).social||{};return Object.keys(t).filter((function(e){return t[e].length>0||"#"!=t[e]})).map((function(a){return c.a.createElement("a",{key:"footer-social-link-".concat(a),href:t[a],target:"_blank"},c.a.createElement("i",{className:e[a]}))}))}())),c.a.createElement("div",{className:"copyright"},c.a.createElement("span",null,"Copyright@",(new Date).getFullYear()," ",t.name)))})),h=(a(78),"SET_SHOP"),g="SET_PRODUCTS",E="SET_ARTICLES",v="INIT_CART",b="SET_CART_ITEMS",N="SET_HOME_CONTEXT",y=a(9),w=a(5);var j=function(e){return c.a.createElement("div",{id:e.id,style:Object(w.a)({width:"100%",height:1,backgroundColor:"#dfdfdf"},e.styles)})},O=(a(103),a(8)),x=a.n(O),k=a(27);var C=Object(d.b)((function(e,t){return Object(w.a)({homeContext:e.home},t)}),(function(e){return{setHomeContext:function(t,a){return e({type:N,payload:a,key:t})}}}))((function(e){var t=e.setHomeContext,a=e.homeContext,r=e.id,l=new x.a;function s(e){return{title:e.sections[0].title,thumbnail:((((e.sections||[]).filter((function(e){return e.media.length>0}))||[])[0]||{}).media||[])[0].url||""}}return(Object(n.useEffect)((function(){a[r]||function(){var a={};(e.ordering||"").length>0&&(a.ordering=e.ordering);(e.tags||"").length>0&&(a.tags=e.tags);(e.keywords||"").length>0&&(a.keywords=e.keywords);(e.ids||"").length>0&&(a.ids=e.ids);(e.collections||"").length>0&&(a.collections=e.collections);l.article.get(Object(w.a)({},a)).then((function(e){return t(r,e)})).catch((function(e){alert("Failed to get featured article")}))}()}),[]),a[r]?c.a.createElement("div",{className:"widget-banner",style:Object(w.a)({},e.styles)},function(){var t={duration:void 0!=e.duration?e.duration:5e3,transitionDuration:void 0!=e.transitionDuration?e.transitionDuration:300,infinite:void 0!=e.infinite&&e.infinite,indicators:void 0==e.indicators||e.indicators,arrows:void 0==e.arrows||e.arrows};return c.a.createElement(k.Slide,t,(a[r]||[]).map((function(e,t){return c.a.createElement(o.b,{key:"slide-image-".concat(t),to:"/blogs/".concat(e.id)},c.a.createElement("div",{className:"each-slide"},c.a.createElement("div",{style:{backgroundImage:"url(".concat(s(e).thumbnail,")")}},c.a.createElement("h1",null,s(e).title))))})))}()):c.a.createElement("div",{style:{width:"100%",height:500,display:"flex",alignItems:"center",justifyContent:"center"}},c.a.createElement(y.MoonLoader,{size:20,color:"#000000",loading:!0})))})),_=(a(125),a(28)),S=a.n(_);var T=Object(d.b)((function(e,t){return Object(w.a)({homeContext:e.home,shop:e.shop.session},t)}),(function(e){return{setHomeContext:function(t,a){return e({type:N,payload:a,key:t})}}}))((function(e){var t=e.setHomeContext,a=e.homeContext,r=e.id,l=e.shop,s=new x.a;function i(e){return{title:e.name,thumbnail:((((e.variants||[]).filter((function(e){return e.media.length>0}))||[])[0]||{}).media||[])[0].url||"",price:e.price}}return(Object(n.useEffect)((function(){a[r]||function(){var a={};(e.ordering||"").length>0&&(a.ordering=e.ordering);(e.tags||"").length>0&&(a.tags=e.tags);(e.keywords||"").length>0&&(a.keywords=e.keywords);(e.ids||"").length>0&&(a.ids=e.ids);(e.collections||"").length>0&&(a.collections=e.collections);s.merchandise.get(Object(w.a)({},a)).then((function(e){return t(r,e)})).catch((function(e){alert("Failed to get products")}))}()}),[]),a[r]?c.a.createElement("div",{className:"widget-product",style:Object(w.a)({},e.styles)},c.a.createElement("h1",null,e.title),c.a.createElement(S.a,{cols:e.cols||5,rows:e.rows||1,gap:15,loop:!0},(a[r]||[]).map((function(e,t){return c.a.createElement(S.a.Item,{key:"slide-image-".concat(t)},c.a.createElement(o.b,{to:"/products/".concat(e.id)},c.a.createElement("div",{className:"product-grid"},c.a.createElement("img",{src:i(e).thumbnail}),c.a.createElement("div",{className:"title"},i(e).title),c.a.createElement("div",{className:"price"},l.currency.toUpperCase()," ",i(e).price.toFixed(2)))))})))):c.a.createElement("div",{style:{width:"100%",height:500,display:"flex",alignItems:"center",justifyContent:"center"}},c.a.createElement(y.MoonLoader,{size:20,color:"#000000",loading:!0})))}));a(129);var B={Banner:C,Product:T,Seperator:j,ArticleTile:Object(d.b)((function(e,t){return Object(w.a)({homeContext:e.home},t)}),(function(e){return{setHomeContext:function(t,a){return e({type:N,payload:a,key:t})}}}))((function(e){var t=e.setHomeContext,a=e.homeContext,r=e.id,l=new x.a;function s(e){return{title:e.sections[0].title,description:e.sections[0].description,thumbnail:((((e.sections||[]).filter((function(e){return e.media.length>0}))||[])[0]||{}).media||[])[0].url||""}}return(Object(n.useEffect)((function(){a[r]||function(){var a={};(e.ordering||"").length>0&&(a.ordering=e.ordering);(e.tags||"").length>0&&(a.tags=e.tags);(e.keywords||"").length>0&&(a.keywords=e.keywords);(e.ids||"").length>0&&(a.ids=e.ids);(e.collections||"").length>0&&(a.collections=e.collections);l.article.get(Object(w.a)({},a)).then((function(e){return t(r,e)})).catch((function(e){alert("Failed to get articles")}))}()}),[]),a[r]?c.a.createElement("div",{className:"widget-article",style:Object(w.a)({},e.styles)},c.a.createElement("h1",null,e.title),c.a.createElement(S.a,{cols:e.cols||2,rows:e.rows||2,gap:15,loop:!0},(a[r]||[]).map((function(e,t){return c.a.createElement(S.a.Item,{key:"slide-image-".concat(t)},c.a.createElement(o.b,{to:"/blogs/".concat(e.id)},c.a.createElement("div",{className:"article-grid"},c.a.createElement("div",{className:"thumb"},c.a.createElement("img",{src:s(e).thumbnail})),c.a.createElement("div",{className:"title"},s(e).title),c.a.createElement("div",{className:"desc"},s(e).description.replace(/<[^>]*>?/gm,"").substr(0,70)+"..."))))})))):c.a.createElement("div",{style:{width:"100%",height:500,display:"flex",alignItems:"center",justifyContent:"center"}},c.a.createElement(y.MoonLoader,{size:20,color:"#000000",loading:!0})))}))};var L=Object(d.b)((function(e){return{session:e.shop.session,settings:e.shop.settings}}))((function(e){var t=e.settings.layout;return c.a.createElement("div",{className:"home"},t.content.map((function(e,t){var a=void 0!=e.widget&&e.widget.length>0?B[e.widget]:void 0;if(void 0!=a)return c.a.createElement(a,Object.assign({key:"widget-".concat(e.widget,"-").concat(t),id:"widget-".concat(e.widget,"-").concat(t)},e))})))}));a(130);var I=Object(d.b)((function(e){return{products:e.product.products}}),(function(e){return{setProducts:function(t){return e({type:g,payload:t})}}}))((function(e){var t=new x.a,a=e.products,r=Object(n.useState)({loading:!1}),l=Object(u.a)(r,2),s=l[0],i=l[1];function m(){p(),t.merchandise.get({page:Math.ceil(a.length/15)+1}).then((function(t){e.setProducts(a.concat(t)),p()})).catch((function(e){return console.error(e)}))}function d(e){var t="https://via.placeholder.com/150",a=e.variants.filter((function(e){return e.media.length>0}));return a.length>0&&(t=a[0].media[0].url),t}function p(){i((function(e){var t=Object(w.a)({},e);return t.loading=!t.loading,t}))}return(Object(n.useEffect)((function(){(a||[]).length||m()}),[]),c.a.createElement("div",{className:"products"},c.a.createElement("h1",null,"Products - All"),c.a.createElement("div",{className:"list"},(a||[]).map((function(e,t){return c.a.createElement("div",{key:"product-".concat(t),className:"item"},c.a.createElement(o.b,{to:"/products/".concat(e.id)},c.a.createElement("div",{className:"item-wrapper"},c.a.createElement("div",{className:"thumbnail"},c.a.createElement("img",{src:d(e)})),c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"name"},e.name),c.a.createElement("div",{className:"price"},"HKD ",e.price)))))}))),c.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"30px 0px"}},!1===s.loading?c.a.createElement("button",{className:"load-more-btn",onClick:m},"Load more"):c.a.createElement(y.MoonLoader,{size:20,color:"#000000",loading:!0}))))})),q=a(21);a(131);var F=Object(d.b)((function(e){return{cart:e.cart,shop:e.shop.session}}),(function(e){return{setCartItems:function(t){return e({type:b,payload:t})}}}))((function(e){var t=new x.a,a=Object(m.h)(),r=Object(n.useState)({}),l=Object(u.a)(r,2),s=l[0],d=l[1],p=Object(n.useState)({}),f=Object(u.a)(p,2),h=f[0],g=f[1],E=Object(n.useState)({loading:!1,addingToCart:!1}),v=Object(u.a)(E,2),b=v[0],N=v[1],j=Object(n.useState)(null),O=Object(u.a)(j,2),C=O[0],_=O[1],S=Object(n.useState)({}),T=Object(u.a)(S,2),B=T[0],L=T[1],I=e.cart,F=e.shop;function A(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];N((function(a){var n=Object(w.a)({},a);return t?n.addingToCart=e:n.loading=e,n}))}function M(e,t){g((function(a){var n=Object(w.a)({},a);return Object.keys(n[e]).forEach((function(a){return n[e][a]=a==t})),n})),L((function(a){var n=Object(w.a)({},a);return n[e]=t,n}))}function P(){var e=null;return((s||{}).variants||[]).forEach((function(t){var a=t.description;if(Object.keys(B).length===Object.keys(a).length){var n=!0;Object.keys(a).forEach((function(e){a[e]!=B[e]&&(n=!1)})),n&&(e=t)}})),e}Object(n.useEffect)((function(){b.loading||Object.keys(s).length||(A(!0),t.merchandise.get({page:b.page,ids:a.id}).then((function(e){e.length||_("/notfound"),d(function(){var t=Object(w.a)({},e[0]);return t.variants=t.variants.map((function(e){return e.description=e.description.split(",").map((function(e){return Object(q.a)({},e.split(":")[0],e.split(":")[1])})).reduce((function(e,t){return Object.assign(e,t)}),{}),e})),t}()),g(function(){var t={};return(e[0].variants||[]).forEach((function(e){Object.keys(e.description).forEach((function(a){var n=a,c=e.description[a];t[n]=t[n]||{},t[n][c]=t[n][c]||0==Object.keys(t[n]).length}))})),t}()),A(!1)})).catch((function(e){A(!1),_("/notfound")}))),Object.keys(h).length>0&&!Object.keys(B).length&&Object.keys(h).forEach((function(e){Object.keys(h[e]).forEach((function(t){!0===h[e][t]&&M(e,t)}))}))}),[h]);var U=P()||{};return b.loading?c.a.createElement("div",{style:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(y.MoonLoader,{size:20,color:"#000000",loading:!0})):C?c.a.createElement(m.a,{to:C}):c.a.createElement("div",{className:"product-detail"},c.a.createElement("div",{className:"rows"},c.a.createElement("div",{className:"back-button-wrapper"},c.a.createElement(o.b,{to:"/products"},c.a.createElement("i",{className:"fas fa-chevron-left"}),"Back to Products")),c.a.createElement("div",{className:"upper-row"},c.a.createElement("div",{className:"slide-container"},c.a.createElement(k.Slide,{duration:5e3,transitionDuration:300,infinite:!1,indicators:!0,arrows:!0},function(){var e=[];return(s.variants||[]).forEach((function(t){return t.media.forEach((function(t){return e.push(t.url)}))})),e.filter((function(t,a){return e.indexOf(t)===a})).map((function(e,t){return c.a.createElement("div",{key:"slide-image-".concat(t),className:"each-slide"},c.a.createElement("div",{style:{backgroundImage:"url(".concat(e,")")}}))}))}()))),c.a.createElement("div",{className:"lower-row"},c.a.createElement("div",{className:"description"},c.a.createElement("h1",null,s.name),c.a.createElement("div",{className:"price"},F.currency.toUpperCase()," ",(U.price||0).toFixed(2),0==U.stock?c.a.createElement("span",{className:"out-of-stock"},"Out of stock"):null),c.a.createElement("p",null,s.description),c.a.createElement("div",{className:"tags"},(s.tags||[]).map((function(e){return c.a.createElement("div",{key:"product-tag-".concat(e),className:"tag"},"#",e)})))),c.a.createElement("div",{className:"gap",style:{width:"50px"}}),c.a.createElement("div",{className:"variants"},1==Object.keys(h).length&&1==Object.values(h).length?null:Object.keys(h).map((function(e){return c.a.createElement("div",{key:"variant-list-".concat(e),className:"list"},c.a.createElement("h4",null,e.toUpperCase()),c.a.createElement("div",{className:"items"},Object.keys(h[e]).map((function(t){return c.a.createElement("div",{onClick:function(){M(e,t)},key:"variant-".concat(e,"-").concat(t),className:"item ".concat(!0===h[e][t]?"selected":"")},t)}))))})),c.a.createElement("button",{className:"add-to-cart",onClick:function(){var a,n,c;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(A(!0,!0),!(a=(P()||{}).id||null)){r.next=19;break}return n=0,I.items.forEach((function(e){e.id==a&&(n=e.qty)})),r.prev=5,r.next=8,i.a.awrap(t.cart.item.add(I.id,{id:a,qty:n+1}));case 8:return r.next=10,i.a.awrap(t.cart.item.get(I.id));case 10:c=r.sent,e.setCartItems(c),A(!1,!0),r.next=19;break;case 15:r.prev=15,r.t0=r.catch(5),alert("Failed to add item to cart"),A(!1,!0);case 19:case"end":return r.stop()}}),null,null,[[5,15]])},disabled:0==U.stock||b.addingToCart},b.addingToCart?c.a.createElement(y.MoonLoader,{size:20,color:"white",loading:!0}):"Add to Cart")))))}));a(132);var A=Object(d.b)((function(e){return{articles:e.article.articles}}),(function(e){return{setArticles:function(t){return e({type:E,payload:t})}}}))((function(e){var t=new x.a,a=e.articles,r=Object(n.useState)({loading:!1}),l=Object(u.a)(r,2),s=l[0],i=l[1];function m(){f(),t.article.get({page:Math.ceil(a.length/15)+1}).then((function(t){e.setArticles(a.concat(t)),f()})).catch((function(e){return console.error(e)}))}function d(e){var t="https://via.placeholder.com/150",a=e.sections.filter((function(e){return e.media.length>0}));return a.length>0&&(t=a[0].media[0].url),t}function p(e){var t={};return(e.sections||[]).forEach((function(e){!Object.keys(t).length&&e.title.length>0&&(t=e)})),t}function f(){i((function(e){var t=Object(w.a)({},e);return t.loading=!t.loading,t}))}return(Object(n.useEffect)((function(){(a||[]).length||m()}),[]),c.a.createElement("div",{className:"blogs"},c.a.createElement("h1",null,"Blog - All"),c.a.createElement("div",{className:"list"},a.map((function(e,t){return c.a.createElement("div",{key:"blog-".concat(e.id),className:"blog"},c.a.createElement(o.b,{to:"/blogs/".concat(e.id)},c.a.createElement("div",{className:"blog-wrapper"},c.a.createElement("div",{className:"thumbnail"},c.a.createElement("img",{src:d(e)})),c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"title"},p(e).title),c.a.createElement("div",{className:"description"},"".concat((p(e).description||"").replace(/<[^>]*>?/gm,"").substr(0,100),"...")),c.a.createElement("div",{className:"time"},new Date(e.time).toLocaleDateString())))))}))),c.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"30px 0px"}},!1===s.loading?c.a.createElement("button",{className:"load-more-btn",onClick:m},"Load more"):c.a.createElement(y.MoonLoader,{size:20,color:"#000000",loading:!0}))))})),M=(a(133),a(36)),P=a.n(M);var U=function(e){var t,a=new x.a,r=Object(m.h)(),l=Object(n.useState)({}),s=Object(u.a)(l,2),i=s[0],d=s[1],p=Object(n.useState)({loading:!1}),f=Object(u.a)(p,2),h=f[0],g=f[1],E=Object(n.useState)(null),v=Object(u.a)(E,2),b=v[0],N=v[1];function j(e){g((function(t){var a=Object(w.a)({},t);return a.loading=e,a}))}return e.shop,Object(n.useEffect)((function(){h.loading||Object.keys(i).length||(j(!0),a.article.get({ids:r.id}).then((function(e){e.length||N("/notfound"),d(e[0]),j(!1)})).catch((function(e){j(!1),N("/notfound")})))}),[]),h.loading?c.a.createElement("div",{style:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(y.MoonLoader,{size:20,color:"#000000",loading:!0})):b?c.a.createElement(m.a,{to:b}):c.a.createElement("div",{className:"article-detail"},c.a.createElement("div",{className:"article-detail-wrapper"},c.a.createElement("div",{className:"back-button-wrapper"},c.a.createElement(o.b,{to:"/blogs"},c.a.createElement("i",{className:"fas fa-chevron-left"}),"Back to Blog")),c.a.createElement("div",{className:"content"},((t=i).sections||[]).map((function(e,a,n){return c.a.createElement("div",{key:"article-section-".concat(a),className:"section"},e.media.length>0?function(e){return c.a.createElement("div",{className:"slide-container"},c.a.createElement(k.Slide,{duration:5e3,transitionDuration:300,infinite:!1,indicators:!0,arrows:!0},(e.media||[]).map((function(e,t){return c.a.createElement("div",{key:"slide-image-".concat(t),className:"each-slide"},c.a.createElement("div",{style:{backgroundImage:"url(".concat(e.url,")")}}))}))))}(e):null,0==a&&n.length>1?c.a.createElement("h1",null,e.title):c.a.createElement("h2",null,e.title),0==a?c.a.createElement("span",null,new Date(t.time).toLocaleDateString()):null,c.a.createElement("p",null,P()(e.description)))})))))};var D=function(){return c.a.createElement("div",null,"404 Not Found")},z=a(61),H=(a(145),a(60)),R=a(58),W=a(37),$=function(e,t){var a=Z(e),n=J(e,t);return a?X(a,n):null},Y={contact:{first_name:{field_name:"First Name",regex:/^.*$/,required:!0},last_name:{field_name:"Last Name",regex:/^.*$/,required:!0},email:{field_name:"Email",regex:/^[a-zA-Z0-9\-\_]+\@([0-9a-zA-Z\-\_]+\.)+[a-zA-Z0-9\-\_]+$/,required:!0},phone:{field_name:"Phone",regex:/^\+?[0-9]+$/,required:!0}},payment:{card:{field_name:"Card Number",regex:/^([0-9]{4}\-?){4}$/,required:!0},csc:{field_name:"CVC",regex:/^[0-9]{3,4}$/,required:!0},exp_date:{field_name:"Expiry",regex:/^[0-9]{2}\/?[0-9]{2}$/,required:!0}},coupons:{field_name:"Coupon",regex:/^[a-zA-Z0-9]+$/,required:!1},shipping:{address:{field_name:"Address",regex:/^.*$/,required:!0},country:{field_name:"Country",regex:/^[A-Z]{2}$/,required:!0}}},Z=function(e){return J(e,Y)},J=function(e,t){return function e(t,a){var n=t.shift();return t.length>0&&a[n]&&"[object Object]"===Object.prototype.toString.call(a[n])?e(t,a[n]):a[n]||null}(e.split("."),t)},K=function(e,t){if(e&&t){"string"===typeof t&&(t=t.split("."));for(var a=0;a<t.length-1;a++)if("undefined"===typeof(e=e[t[a]]))return;delete e[t.pop()]}},G=function(e,t,a){return function e(t,a,n){if("string"===typeof a&&(a=a.split(".")),a.length>1){var c=a.shift();e(t[c]="[object Object]"===Object.prototype.toString.call(t[c])?t[c]:{},a,n)}else t[a[0]]=n}(e,t,a)},X=function(e,t){return(t||"").length?new RegExp(e.regex,"ig").test(t)?null:"".concat(e.field_name," is invalid"):!0!==e.required||(t||"").length?void 0:"".concat(e.field_name," is required")};var V=Object(d.b)((function(e){return{cart:e.cart,shop:e.shop.session,user:e.user.session}}),(function(e){return{setCartItems:function(t){return e({type:b,payload:t})}}}))((function(e){var t=new x.a,a=e.cart,r=e.shop,l=e.user,s=Object(n.useState)(1),d=Object(u.a)(s,2),p=d[0],f=d[1],h=Object(n.useState)([]),g=Object(u.a)(h,2),E=g[0],v=g[1],b=Object(n.useState)(!1),N=Object(u.a)(b,2),j=N[0],O=N[1],k=Object(n.useState)(null),C=Object(u.a)(k,2),_=C[0],S=C[1],T=Object(n.useState)(null),B=Object(u.a)(T,2),L=B[0],I=B[1],F=Object(n.useState)({contact:{first_name:"",last_name:"",email:"",phone:""},payment:{card:"",csc:"",exp_date:""},shipping:{address:null,country:"HK"},shippings:Object(q.a)({},r.id,null),items:a.id,notes:""}),A=Object(u.a)(F,2),M=A[0],P=A[1],U=Object(n.useState)({}),D=Object(u.a)(U,2),Y=D[0],Z=D[1],X=Object(R.getCodeList)();function V(){var e,n;return i.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(O(!0),((e=Object(w.a)({},M)).coupons||"").trim().length||delete M.coupons,(e.notes||"").trim().length||delete M.notes,e.payment.exp_date="".concat(e.payment.exp_date.slice(0,2),"/").concat(e.payment.exp_date.slice(2)),c.prev=5,null==l){c.next=12;break}return c.next=9,i.a.awrap(t.consumer.checkout(e));case 9:c.t0=c.sent,c.next=15;break;case 12:return c.next=14,i.a.awrap(t.order.create(e));case 14:c.t0=c.sent;case 15:(n=c.t0).rows&&(n.rows||[]).length>0?I(Object(w.a)({},_,{shipping:M.shipping,contact:M.contact,notes:M.notes||"",items:Object(z.a)(a.items)})):alert("Unknown error occured, please try again"),O(!1),c.next=24;break;case 20:c.prev=20,c.t1=c.catch(5),Array.isArray(c.t1.message)&&(c.t1.message||[]).length>0?alert(c.t1.message.join("\n")):alert("Unknown error occured, please try again"),O(!1);case 24:case"end":return c.stop()}}),null,null,[[5,20]])}function Q(e,t){P((function(a){var n=Object(w.a)({},a);return G(n,e,t),n}))}function ee(e){var t=J(e,Y)||null;return c.a.createElement("span",{className:"error-msg"},t||"")}function te(e){var t=$(e||"",M);Z((function(a){var n=Object(w.a)({},a);return t?G(n,e,t):K(n,e),n}))}function ae(){var e=!0;return["contact","payment","shipping"].forEach((function(t){void 0!=Y[t]&&Object.keys(Y[t]).length>0&&(e=!1)})),e}var ne=[function(){return c.a.createElement("div",{className:"step-1"},c.a.createElement("h2",null,"Your Information"),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"First Name"),c.a.createElement("input",{placeholder:"Peter",value:M.contact.first_name,onChange:function(e){return Q("contact.first_name",e.target.value)},onBlur:function(){return te("contact.first_name")}}),ee("contact.first_name")),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Last Name"),c.a.createElement("input",{placeholder:"Chan",value:M.contact.last_name,onChange:function(e){return Q("contact.last_name",e.target.value)},onBlur:function(){return te("contact.last_name")}}),ee("contact.last_name"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Email"),c.a.createElement("input",{placeholder:"Peter.chan@abc.com",value:M.contact.email,onChange:function(e){return Q("contact.email",e.target.value)},onBlur:function(){return te("contact.email")}}),ee("contact.email")),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Phone"),c.a.createElement("input",{placeholder:"+85291234567",value:M.contact.phone,onChange:function(e){return Q("contact.phone",e.target.value)},onBlur:function(){return te("contact.phone")}}),ee("contact.phone"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Country"),c.a.createElement(H.a,{value:{value:(M.shipping.country||"hk").toLowerCase(),label:X[(M.shipping.country||"hk").toLowerCase()]},onChange:function(e){return Q("shipping.country",e.value.toUpperCase())},options:Object.keys(X).map((function(e){return{value:e,label:X[e]}}))})),c.a.createElement("div",{className:"form-group"})),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"form-group"}),c.a.createElement("div",{className:"form-group"},c.a.createElement("button",{onClick:function(){return function(){var e,t,n;return i.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return O(!0),e=[],c.prev=2,c.next=5,i.a.awrap(fetch("/api/shipping_methods",{method:"GET"}));case 5:return t=c.sent,c.next=8,i.a.awrap(t.json());case 8:if(c.t4=c.sent,c.t4){c.next=11;break}c.t4={};case 11:if(c.t3=c.t4.data,c.t3){c.next=14;break}c.t3={};case 14:if(c.t2=c.t3.rows,c.t2){c.next=17;break}c.t2=[];case 17:if(c.t1=c.t2[0],c.t1){c.next=20;break}c.t1={};case 20:if(c.t0=c.t1.shipping_methods,c.t0){c.next=23;break}c.t0=[];case 23:if(t=c.t0,e=e.concat(t.map((function(e){return{id:e.code.replace(/\r?\n|\r/g,""),charge:e.charge,title:e.title,address_required:e.shipping_address_required}}))),!r.auto_ship){c.next=33;break}return c.next=28,i.a.awrap(fetch("/api/carts/".concat(a.id,"/shipment/rates"),{method:"POST",body:JSON.stringify({shipping:{address:"HK",country:M.shipping.country}})}));case 28:return n=c.sent,c.next=31,i.a.awrap(n.json());case 31:n=c.sent.data.rows,e=e.concat(n.filter((function(e){return void 0!=e.rates[r.id]})).map((function(e){return{id:e.id,charge:e.rates[r.id],title:e.name,address_required:!0}})));case 33:e.length&&null==M.shippings[r.id]&&Q("shippings.".concat(r.id),e[0].id),v(e),f(2),O(!1),c.next=43;break;case 39:c.prev=39,c.t5=c.catch(2),alert("Failed to load shipping methods"),O(!1);case 43:case"end":return c.stop()}}),null,null,[[2,39]])}()},disabled:!(M.contact.first_name||"").length||!(M.contact.last_name||"").length||!(M.contact.email||"").length||!(M.contact.phone||"").length||!ae()},"Shipping ",c.a.createElement("i",{className:"fas fa-chevron-right"})))))},function(){return c.a.createElement("div",{className:"step-2"},c.a.createElement("h2",null,"Select a Shipping Method"),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"shipping-methods"},E.length?E.map((function(e){return c.a.createElement("div",{key:"shipping-method-".concat(e.id),className:"shipping-method ".concat(M.shippings[r.id]==e.id?"selected":""),onClick:function(){return Q("shippings.".concat(r.id),e.id)}},M.shippings[r.id]==e.id?c.a.createElement("i",{className:"fas fa-check-square"}):c.a.createElement("i",{className:"far fa-check-square"}),c.a.createElement("div",{className:"title"},e.title)," -",c.a.createElement("div",{className:"charge"},r.currency.toUpperCase()," ",e.charge))})):c.a.createElement("div",{className:"shipping-method-none"},"No shipping method is available at the moment."))),c.a.createElement("h2",null,"Shipping Address"),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{placeholder:"1/F, ABC Building, 12 ABC Road, Hong Kong",value:M.shipping.address||"",onChange:function(e){return Q("shipping.address",e.target.value)},onBlur:function(){return te("shipping.address")}}),ee("shipping.address"))),c.a.createElement("h2",null,"Coupons"),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{placeholder:"SUMMERSALE10",value:M.coupons||"",onChange:function(e){return Q("coupons",e.target.value)},onBlur:function(){return te("coupons")}}),ee("coupons"))),c.a.createElement("h2",null,"Notes"),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"form-group"},c.a.createElement("textarea",{value:M.notes||"",placeholder:"Notes to us",maxLength:500,onChange:function(e){return Q("notes",e.target.value)}}))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"form-group"},c.a.createElement("button",{onClick:function(){Z({}),f(1)}},c.a.createElement("i",{className:"fas fa-chevron-left"})," Information")),c.a.createElement("div",{className:"form-group"},c.a.createElement("button",{onClick:function(){return function(){var e,t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return O(!0),n.prev=1,0==((e=Object(w.a)({},M)).coupons||"").trim().length&&delete e.coupons,null==e.shippings[r.id]&&delete e.shippings[r.id],n.next=7,i.a.awrap(fetch("/api/carts/".concat(a.id,"/previews"),{method:"POST",body:JSON.stringify(Object(w.a)({},e))}));case 7:return t=n.sent,n.next=10,i.a.awrap(t.json());case 10:(t=n.sent).data?(t=t.data.rows[0],S(t),f(3)):alert(t.messages?(t.messages||[]).join("\n"):"Failed to confirm order amount."),O(!1),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(1),alert("Failed to confirm order amount."),O(!1);case 19:case"end":return n.stop()}}),null,null,[[1,15]])}()},disabled:!(M.shipping.address||"").length||!ae()},"Payment ",c.a.createElement("i",{className:"fas fa-chevron-right"})))))},function(){return c.a.createElement("div",{className:"step-3"},c.a.createElement("h2",null,"Payment"),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Card Number"),c.a.createElement("input",{placeholder:"4242-4242-4242-4242",value:((M.payment.card||"").match(new RegExp("[0-9]{1,4}","g"))||[]).join("-"),onChange:function(e){return Q("payment.card",(e.target.value||"").split("-").join(""))},maxLength:19,onBlur:function(){return te("payment.card")}}),ee("payment.card"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Expiry Date"),c.a.createElement("input",{placeholder:"10/20",value:((M.payment.exp_date||"").match(new RegExp("[0-9]{1,2}","g"))||[]).join("/"),onChange:function(e){return Q("payment.exp_date",(e.target.value||"").split("/").join(""))},onBlur:function(){return te("payment.exp_date")},maxLength:5}),ee("payment.exp_date")),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"CSC"),c.a.createElement("input",{placeholder:"123",type:"password",value:M.payment.csc||"",onChange:function(e){return Q("payment.csc",e.target.value)},onBlur:function(){return te("payment.csc")},maxLength:4}),ee("payment.csc"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"form-group"},c.a.createElement("button",{onClick:function(){S(null),Z({}),f(2)}},c.a.createElement("i",{className:"fas fa-chevron-left"})," Shipping")),c.a.createElement("div",{className:"form-group"},c.a.createElement("button",{className:"pay-btn",onClick:V,disabled:!(M.payment.card||"").length||!(M.payment.exp_date||"").length||!(M.payment.csc||"").length||!ae()},"Confirm & Pay ",c.a.createElement("i",{className:"fas fa-check-circle"})))))}];return L?c.a.createElement(m.a,{to:{pathname:"/checkout/success",state:L}}):c.a.createElement("div",{className:"checkout"},c.a.createElement("h1",null,"Checkout"),c.a.createElement("div",{className:"checkout-wrapper"},j?c.a.createElement("div",{className:"loading-mask"},c.a.createElement(y.MoonLoader,{size:20,color:"#000000",loading:!0})):null,c.a.createElement("div",{className:"steps"},c.a.createElement("div",{className:"progress-bar"},["Information","Shipping","Finish"].map((function(e,t){return c.a.createElement("div",{key:"step-label-".concat(t),className:"step-label ".concat(p>=t+1?"active":"")},e)})),c.a.createElement("div",{className:"bar"},c.a.createElement("div",{className:"bar-fill",style:{width:"".concat((p-1)/2*100,"%")}}))),c.a.createElement("div",{className:"form"},ne[p-1]()),c.a.createElement("div",{className:"back-to-shopping-cart"},c.a.createElement(o.b,{to:"/cart"},c.a.createElement("i",{className:"fas fa-chevron-left"}),"Back to Shopping Cart"))),c.a.createElement("div",{style:{width:15}}),c.a.createElement("div",{className:"summary"},c.a.createElement("div",{className:"summary-wrapper"},c.a.createElement("h3",null,"Summary"),c.a.createElement("div",{className:"amounts"},c.a.createElement("div",{className:"amt subtotal"},c.a.createElement("label",null,"Subtotal"),c.a.createElement("div",{className:"amount"},r.currency.toUpperCase()," ",(_?_.sub_total:(a.items||[]).reduce((function(e,t){return e+t.qty*t.price}),0)).toFixed(2))),c.a.createElement("div",{className:"amt shipping-fee"},c.a.createElement("label",null,"Shipping fee"),c.a.createElement("div",{className:"amount"},r.currency.toUpperCase()," ",(_?_.shipping_fee:null!=M.shippings[r.id]&&(E.filter((function(e){return e.id==M.shippings[r.id]}))[0]||{}).charge||0).toFixed(2))),_&&((_.breakdowns[0]||{}).discounts||[]).length>0?c.a.createElement("div",{className:"amt discounts"},c.a.createElement("label",null,"Discounts"),_.breakdowns[0].discounts.map((function(e){return c.a.createElement("div",{key:"discount-".concat(e.id),className:"item"},c.a.createElement("label",{"data-tip":e.title||""},(e.title||"").length>20?"".concat((e.title||"").substring(0,20),"..."):e.title,c.a.createElement(W.a,null)),c.a.createElement("div",{className:"deducted-amt"},"- ",r.currency.toUpperCase()," ",e.amount))}))):null,c.a.createElement("div",{className:"amt total"},c.a.createElement("label",null,"TOTAL"),c.a.createElement("div",{className:"amount"},r.currency.toUpperCase()," ",(_?_.gross_total:(a.items||[]).reduce((function(e,t){return e+t.qty*t.price}),0)+(null!=M.shippings[r.id]?(E.filter((function(e){return e.id==M.shippings[r.id]}))[0]||{}).charge:0)).toFixed(2))))))))}));a(147);var Q=function(e){console.log(e);var t=e.profile,a=new x.a;return c.a.createElement("div",{className:"profile"},c.a.createElement("div",{className:"profile-wrapper"},c.a.createElement("h1",null,"Profile"),c.a.createElement("div",{className:"data-group"},c.a.createElement("label",null,"First Name"),c.a.createElement("div",null,t.first_name)),c.a.createElement("div",{className:"data-group"},c.a.createElement("label",null,"Last Name"),c.a.createElement("div",null,t.last_name)),c.a.createElement("button",{onClick:function(){a.consumer.logout().then((function(){window.location.pathname="/users"})).catch((function(e){alert(e.message)}))}},"Logout")))};a(148);var ee=function(e){var t=Object(n.useState)(null),a=Object(u.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(!0),i=Object(u.a)(s,2),o=i[0],d=i[1],p=new x.a;return Object(n.useEffect)((function(){p.consumer.profile.get().then((function(e){var t=e[0];l(t),d(!1)})).catch((function(e){d(!1),l(null)}))}),[]),c.a.createElement("div",{className:"user"},c.a.createElement("div",{className:"wrapper"},o?c.a.createElement("div",{className:"loading"},c.a.createElement(y.MoonLoader,{size:20,color:"#000000",loading:!0})):r?c.a.createElement(Q,{profile:r}):c.a.createElement(m.a,{to:"/users/login"})))};a(149);var te=Object(d.b)((function(e){return{shop:e.shop.session}}))((function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(""),i=Object(u.a)(s,2),m=i[0],d=i[1],p=Object(n.useState)(""),f=Object(u.a)(p,2),h=f[0],g=f[1],E=Object(n.useState)(""),v=Object(u.a)(E,2),b=v[0],N=v[1],w=Object(n.useState)(""),j=Object(u.a)(w,2),O=j[0],k=j[1],C=Object(n.useState)(!1),_=Object(u.a)(C,2),S=_[0],T=_[1],B=new x.a,L=e.shop;return c.a.createElement("div",{className:"user-register"},c.a.createElement("div",{className:"user-register-wrapper"},c.a.createElement("div",{className:"form"},c.a.createElement("div",{className:"greeting"},L.logo?c.a.createElement("img",{src:L.logo}):null,c.a.createElement("h1",null,"Get Your Account")),c.a.createElement("div",{className:"form-wrapper"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"First Name"),c.a.createElement("input",{type:"text",value:b,onChange:function(e){N(e.target.value)},placeholder:"Peter"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Last Name"),c.a.createElement("input",{type:"text",value:O,onChange:function(e){k(e.target.value)},placeholder:"Chan"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Email"),c.a.createElement("input",{type:"text",value:r,onChange:function(e){l(e.target.value)},placeholder:"peter.chan@abc.com"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Password"),c.a.createElement("input",{type:"password",value:m,onChange:function(e){d(e.target.value)},placeholder:"\u30fb\u30fb\u30fb\u30fb\u30fb\u30fb\u30fb\u30fb"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Confirm Password"),c.a.createElement("input",{type:"password",value:h,onChange:function(e){g(e.target.value)},placeholder:"\u30fb\u30fb\u30fb\u30fb\u30fb\u30fb\u30fb\u30fb"})),c.a.createElement("button",{onClick:function(){T(!0),B.consumer.signUp({email:r,passwd:m,confpasswd:h,first_name:b,last_name:O}).then((function(){T(!1),window.location.href="/users/login"})).catch((function(e){T(!1),alert(e.message)}))}},S?c.a.createElement(y.MoonLoader,{size:20,color:"white",loading:!0}):"Register"),c.a.createElement("div",{className:"register"},c.a.createElement(o.b,{to:"/users/login"},"Already a Member?"))))))}));a(150);var ae=Object(d.b)((function(e){return{shop:e.shop.session}}))((function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(""),i=Object(u.a)(s,2),m=i[0],d=i[1],p=Object(n.useState)(!1),f=Object(u.a)(p,2),h=f[0],g=f[1],E=new x.a,v=e.shop;return c.a.createElement("div",{className:"user-login"},c.a.createElement("div",{className:"user-login-wrapper"},c.a.createElement("div",{className:"form"},c.a.createElement("div",{className:"greeting"},v.logo?c.a.createElement("img",{src:v.logo}):null,c.a.createElement("h1",null,"Welcome Back")),c.a.createElement("div",{className:"form-wrapper"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Email"),c.a.createElement("input",{type:"text",value:r,onChange:function(e){l(e.target.value)},placeholder:"peter.chan@abc.com"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Password"),c.a.createElement("input",{type:"password",value:m,onChange:function(e){d(e.target.value)},placeholder:"\u30fb\u30fb\u30fb\u30fb\u30fb\u30fb\u30fb\u30fb"})),c.a.createElement("button",{onClick:function(){g(!0),E.consumer.login({email:r,passwd:m}).then((function(){g(!1),window.location.href="/users"})).catch((function(e){g(!1),alert("Username or password invalid.")}))}},h?c.a.createElement(y.MoonLoader,{size:20,color:"white",loading:!0}):"Login"),c.a.createElement("div",{className:"register"},c.a.createElement(o.b,{to:"/users/new"},"Not a Member? Register Now!"))))))}));a(151);var ne=Object(d.b)((function(e){return{cart:e.cart,shop:e.shop.session}}),(function(e){return{setCartItems:function(t){return e({type:b,payload:t})}}}))((function(e){var t=new x.a,a=Object(n.useState)(!1),r=Object(u.a)(a,2),l=r[0],s=r[1],m=e.cart,d=e.shop;function p(e){var t="https://via.placeholder.com/150";return(e.media||[]).length>0&&(t=e.media[0]),t}function f(e){return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return s(!0),a.prev=1,a.next=4,i.a.awrap(t.cart.item.remove(m.id,e));case 4:return a.next=6,i.a.awrap(g());case 6:s(!1),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),alert("Failed to remove item"),s(!1);case 13:case"end":return a.stop()}}),null,null,[[1,9]])}function h(e,a){return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return s(!0),n.prev=1,n.next=4,i.a.awrap(t.cart.item.add(m.id,{id:e,qty:a}));case 4:return n.next=6,i.a.awrap(g());case 6:s(!1),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),alert("Failed to edit item qty"),s(!1);case 13:case"end":return n.stop()}}),null,null,[[1,9]])}function g(){var a;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.a.awrap(t.cart.item.get(m.id));case 3:a=n.sent,e.setCartItems(a),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),alert("Failed to get cart item");case 10:case"end":return n.stop()}}),null,null,[[0,7]])}return c.a.createElement("div",{className:"cart"},c.a.createElement("h1",null,"My Cart"),c.a.createElement("div",{className:"list"},(m.items||[]).length?c.a.createElement("div",{className:"items"},l?c.a.createElement("div",{className:"loading-mask"},c.a.createElement(y.MoonLoader,{size:20,color:"#000000",loading:!0})):null,(m.items||[]).map((function(e,t){return c.a.createElement("div",{key:"item-".concat(t),className:"item"},c.a.createElement("div",{className:"thumbnail"},c.a.createElement("img",{src:p(e),alt:"image of ".concat(e.name)})),c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"name"},e.name),c.a.createElement("div",{className:"description"},e.variant)),c.a.createElement("div",{className:"form"},c.a.createElement("div",{className:"unit-price"},(d.currency||"hkd").toUpperCase()," ",e.price.toFixed(2)," ",c.a.createElement("i",{className:"fas fa-times"})),c.a.createElement("div",{className:"qty"},e.qty),c.a.createElement("div",{className:"qty-btns"},c.a.createElement("button",{onClick:function(){return h(e.id,e.qty+1)}},c.a.createElement("i",{className:"fas fa-sort-up"})),c.a.createElement("button",{onClick:function(){return e.qty<2?f(e.id):h(e.id,e.qty-1)}},c.a.createElement("i",{className:"fas fa-sort-down"})))),c.a.createElement("div",{className:"subtotal"},(d.currency||"hkd").toUpperCase()," ",(e.price*e.qty).toFixed(2)),c.a.createElement("div",{className:"remove-btn-wrapper"},c.a.createElement("button",{onClick:function(){return f(e.id)}},c.a.createElement("i",{className:"fas fa-trash"}))))})),c.a.createElement("div",{className:"checkout-btn-wrapper"},c.a.createElement("div",{className:"total"},"Total : ",(d.currency||"hkd").toUpperCase()," ",(m.items||[]).reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)),c.a.createElement(o.b,{to:"/checkout"},"Checkout"))):c.a.createElement("div",{className:"placeholder"},c.a.createElement("i",{className:"fas fa-shopping-cart"}),c.a.createElement("div",{className:"message"},"Your shopping cart is empty."),c.a.createElement(o.b,{to:"/products"},"Shop Now"))))})),ce=(a(152),a(30));var re=Object(d.b)((function(e){return{shop:e.shop.session}}),(function(e){return{setCartItems:function(t){return e({type:b,payload:t})},initCart:function(t){return e({type:v,payload:t})}}}))((function(e){var t=new x.a,a=(Object(m.g)()||{}).state||null,r=(e.shop.currency||"hkd").toUpperCase();function l(e){var t="https://via.placeholder.com/150";return(e.media||[]).length>0&&(t=e.media[0]),t}return Object(n.useEffect)((function(){null!=a&&function a(){var n;return i.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,i.a.awrap(t.cart.create());case 3:n=c.sent.rows[0].id,(new ce.default).set("cartId",n),e.initCart(n),e.setCartItems([]),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),a();case 13:case"end":return c.stop()}}),null,null,[[0,10]])}()}),[]),null!=a?c.a.createElement("div",{className:"order-snapshot"},c.a.createElement("div",{className:"order-snapshot-wrapper"},c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"Thank You!"),c.a.createElement("div",{className:"order-id"},c.a.createElement("b",null,"Order #",a.id)),c.a.createElement("div",{className:"order-detail"},c.a.createElement("div",{className:"order-detail-row"},c.a.createElement("div",{className:"icon"},c.a.createElement("i",{className:"fas fa-male"})),a.contact.first_name," ",a.contact.last_name),c.a.createElement("div",{className:"order-detail-row"},c.a.createElement("div",{className:"icon"},c.a.createElement("i",{className:"fas fa-envelope"})),a.contact.email),c.a.createElement("div",{className:"order-detail-row"},c.a.createElement("div",{className:"icon"},c.a.createElement("i",{className:"fas fa-phone"})),a.contact.phone),c.a.createElement("div",{className:"order-detail-row"},c.a.createElement("div",{className:"icon"},c.a.createElement("i",{className:"fas fa-map-marker-alt"})),a.shipping.address),c.a.createElement("div",{className:"order-detail-row"},c.a.createElement("div",{className:"icon"},c.a.createElement("i",{className:"fas fa-sticky-note"})),a.notes||"---")),c.a.createElement("div",{className:"items"},(a.items||[]).map((function(e){return c.a.createElement("div",{key:"order-snapshot-item-".concat(e.id),className:"item"},c.a.createElement("div",{className:"thumbnail"},c.a.createElement("img",{src:l(e),alt:"image of ".concat(e.name)})),c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"name"},e.name),c.a.createElement("div",{className:"description"},e.variant)),c.a.createElement("div",{className:"unit-price"},r," ",e.price.toFixed(2)," ",c.a.createElement("i",{className:"fas fa-times"})),c.a.createElement("div",{className:"qty"},e.qty),c.a.createElement("div",{className:"subtotal"},r," ",(e.price*e.qty).toFixed(2)))}))),c.a.createElement("div",{className:"order-summary"},c.a.createElement("div",{className:"subtotal"},"Subtotal: ",r," ",a.sub_total.toFixed(2)),(((a.breakdowns||[])[0]||{}).discounts||[]).length>0?c.a.createElement("div",{className:"discount"},c.a.createElement("i",{"data-tip":"".concat(a.breakdowns[0].discounts.map((function(e,t){return"".concat(t+1,". <b>").concat(e.title,"</b> -").concat(r).concat(e.amount)})).join("<br/>")),className:"fas fa-info-circle"})," Discount: ",r," ",a.discounted_amount.toFixed(2),c.a.createElement(W.a,{type:"dark",html:!0})):null,c.a.createElement("div",{className:"total"},"Total: ",r," ",a.gross_total.toFixed(2)))))):c.a.createElement(m.a,{to:"/products"})}));a(153);var le=Object(d.b)((function(e){return{shop:e.shop.session}}))((function(e){e.shop;var t=Object(m.h)().file,a=Object(n.useState)(""),r=Object(u.a)(a,2),l=r[0],s=r[1];return Object(n.useEffect)((function(){!function(e){var t;i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i.a.awrap(fetch("/assets/text_files/".concat(e,".txt")));case 3:return t=a.sent,a.next=6,i.a.awrap(t.text());case 6:t=a.sent,s(t),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),s("Failed to load ".concat(e,".txt."));case 13:case"end":return a.stop()}}),null,null,[[0,10]])}(t)})),c.a.createElement("div",{className:"page"},c.a.createElement("div",{className:"content"},P()(l)))}));var se=Object(m.i)((function(){return c.a.createElement("div",{className:"wrapper"},c.a.createElement(p,null),c.a.createElement("div",{className:"scene"},c.a.createElement(m.d,null,c.a.createElement(m.b,{path:"/",component:L,exact:!0}),c.a.createElement(m.b,{path:"/products",component:I,exact:!0}),c.a.createElement(m.b,{path:"/products/:id",component:F,exact:!0}),c.a.createElement(m.b,{path:"/blogs",component:A,exact:!0}),c.a.createElement(m.b,{path:"/blogs/:id",component:U,exact:!0}),c.a.createElement(m.b,{path:"/pages/:file",component:le,exact:!0}),c.a.createElement(m.b,{path:"/users",component:ee,exact:!0}),c.a.createElement(m.b,{path:"/users/new",component:te,exact:!0}),c.a.createElement(m.b,{path:"/users/login",component:ae,exact:!0}),c.a.createElement(m.a,{from:"/login",to:"/users/login",exact:!0}),c.a.createElement(m.b,{path:"/checkout",component:V,exact:!0}),c.a.createElement(m.b,{path:"/checkout/success",component:re,exact:!0}),c.a.createElement(m.b,{path:"/cart",component:ne,exact:!0}),c.a.createElement(m.b,{component:D}))),c.a.createElement(f,null))}));var ie=Object(d.b)((function(e,t){return{shop:e.shop.session,cart:e.cart}}),(function(e,t){return{setShop:function(t){return e({type:h,payload:t})},initCart:function(t){return e({type:v,payload:t})},setCartItems:function(t){return e({type:b,payload:t})}}}))((function(e){var t=new x.a,a=new ce.default,r=e.shop,l=e.cart;function s(){var n;return i.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,i.a.awrap(t.cart.create());case 3:n=c.sent.rows[0].id,a.set("cartId",n),e.initCart(n),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),s();case 11:case"end":return c.stop()}}),null,null,[[0,8]])}return Object(n.useEffect)((function(){r||function a(){t.shop.settings().then((function(t){e.setShop(t[0])})).catch((function(e){a()}))}(),l.id?function(){var a;i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.a.awrap(t.cart.item.get(l.id));case 3:a=n.sent,e.setCartItems(a),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),s();case 10:case"end":return n.stop()}}),null,null,[[0,7]])}():s()}),[]),null==r||null==l.id?c.a.createElement("div",{style:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(y.MoonLoader,{size:30,color:"#000000",loading:!0})):c.a.createElement(o.a,null,c.a.createElement(se,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=a(26),me={products:[],best_sellers:[]},ue={articles:[]},de={user:null},pe=a(59),fe=a.n(pe),he={session:null},ge={id:(new(0,a(30).default)).get("cartId")||null,items:[]},Ee={},ve=Object(oe.b)({product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCTS":return Object(w.a)({},e,{products:t.payload});case"ADD_BEST_SELLERS":return Object(w.a)({},e,{best_sellers:t.payload});default:return e}},article:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ARTICLES":return Object(w.a)({},e,{articles:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return{user:t.payload};default:return e}},shop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SHOP":return{session:t.payload,settings:fe.a.settings};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_CART":return Object(w.a)({},e,{id:t.payload});case"SET_CART_ITEMS":return Object(w.a)({},e,{items:t.payload});default:return e}},home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HOME_CONTEXT":return Object(w.a)({},e,Object(q.a)({},t.key,t.payload));default:return e}}}),be=Object(oe.c)(ve);l.a.render(c.a.createElement(d.a,{store:be},c.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},59:function(e,t){e.exports={settings:{layout:{content:[{widget:"Banner",tags:"",ordering:"",numberToShow:1,ids:"",collections:"",duration:5e3,transitionDuration:300,infinite:!0,indicators:!1,arrows:!1,styles:{height:630}},{widget:"Product",tags:"",ordering:"",ids:"",rows:1,cols:4,collections:"",title:"Best Sellers",type:"sale",styles:{}},{widget:"Seperator",styles:{margin:"50px 0px 60px 0px",height:"0.5px"}},{widget:"ArticleTile",tags:"",ordering:"",ids:"",rows:1,cols:4,collections:"",title:"Latest",type:"sale",styles:{}}]},links:{policies:{shipping_policy:"shipping_policy",privacy_policy:"privacy_policy",terms_and_conditions:"terms_and_conditions"},social:{facebook:"https://facebook.com",instagram:"https://instagram.com",youtube:"https://youtube.com",twitter:"https://twitter.com",pinterest:"https://pinterest.com"}}}}},63:function(e,t,a){e.exports=a(154)},68:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){}},[[63,1,2]]]);
//# sourceMappingURL=main.2918c743.chunk.js.map