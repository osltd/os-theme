{"version":3,"sources":["components/Widget/SocialIcon.tsx","components/Product/Detail.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","classnames__WEBPACK_IMPORTED_MODULE_1__","classnames__WEBPACK_IMPORTED_MODULE_1___default","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__","withStyles","theme","root","padding","border","palette","secondary","main","margin","borderRadius","cursor","display","fontSize","reddit","&:before","color","&:hover","backgroundColor","youtube","twitter","facebook","whatsapp","props","classes","type","onClick","a","createElement","className","classNames","getIconType","styles","createUseStyles","wrapper","navigator","marginBottom","content","flexDirection","viewer","width","detail","marginRight","backArrow","borderWidth","alignItems","backIcon","backText","fontFamily","description","addBtn","marginTop","& > button","@media (max-width: 600px)","cookies","Cookies","connect","state","products","product","feeds","feed","category","dispatch","addToCart","_addToCart","Object","_Users_Lucas_Desktop_Businesses_Oneshop_Products_oneshop_Sites_os_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__","_Users_Lucas_Desktop_Businesses_Oneshop_Products_oneshop_Sites_os_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default","mark","_callee","selectedVariant","qty","cart","result","wrap","_context","prev","next","alert","get","agent","Checkout","getCart","sent","data","rows","shift","id","set","addItem","initCart","then","res","INIT_CART","payload","catch","err","toast","success","position","POSITION","TOP_RIGHT","messages","join","stop","_x","_x2","apply","this","arguments","match","history","find","toString","params","options","variants","forEach","v","split","desc","optr","indexOf","key","substr","value","substring","concat","filter","val","i","media","price","stock","sku","push","_useState","useState","variant","_useState2","_Users_Lucas_Desktop_Businesses_Oneshop_Products_oneshop_Sites_os_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","form","setForm","undefined","react__WEBPACK_IMPORTED_MODULE_5___default","_Layout_LoadingPage__WEBPACK_IMPORTED_MODULE_20__","getSelectedVariant","keys","map","o","length","reduce","container","_Users_Lucas_Desktop_Businesses_Oneshop_Products_oneshop_Sites_os_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","_Users_Lucas_Desktop_Businesses_Oneshop_Products_oneshop_Sites_os_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_Layout_Body_Header__WEBPACK_IMPORTED_MODULE_19__","title","name","redirectUrl","_Widget_I18nText__WEBPACK_IMPORTED_MODULE_16__","keyOfI18n","FEED_DETAIL_BACK_TO_FEED_LIST","react_responsive_carousel__WEBPACK_IMPORTED_MODULE_12__","m","src","url","react_number_format__WEBPACK_IMPORTED_MODULE_10__","thousandSeparator","prefix","displayType","renderText","oi","vi","checked","onChange","e","target","qtyGroup","defaultValue","ADD_TO_CART","shares","PRODUCT_DETAILS_SHARE_THIS_PRODUCT","shareIcons","_Widget_SocialIcon__WEBPACK_IMPORTED_MODULE_18__","window","open","location","href"],"mappings":"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","file":"static/js/9.6e867719.chunk.js","sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport {Theme, withStyles} from '@material-ui/core/styles';\nimport {MaterialUIClasses} from \"../../interfaces/client/Common\";\n\nconst styles = (theme: Theme) => ({\n    root: {\n        padding: '12px',\n        border: '1px solid ' + theme.palette.secondary.main,\n        margin: '3px',\n        borderRadius: '5px',\n        cursor: 'pointer',\n        display: 'inline-block',\n        fontSize: '24px',\n    },\n    reddit: {\n\n        '&:before': {\n            color: '#ff8c39',\n        },\n        '&:hover': {\n            backgroundColor:\n                '#ff8c39',\n\n            '&:before': {\n\n                color: 'white',\n            }\n\n        }\n    },\n    youtube: {\n\n        '&:before': {\n            color: '#ff342f',\n        },\n        '&:hover': {\n            backgroundColor:\n                '#ff342f',\n            '&:before': {\n\n                color: 'white',\n\n            }\n        }\n\n    },\n    twitter: {\n        '&:before': {\n            color: '#3c16ff',\n        },\n        '&:hover': {\n            backgroundColor: '#3c16ff'\n            ,\n            '&:before': {\n                color: 'white',\n            }\n        }\n    }\n    , facebook: {\n        '&:before': {\n            color: '#5567ff',\n\n        },\n        '&:hover': {\n            backgroundColor: '#5567ff',\n            '&:before': {\n\n                color: 'white',\n            }\n        }\n\n\n    },\n    whatsapp: {\n        '&:before': {\n            color: '#74ff57',\n\n        },\n        '&:hover': {\n            backgroundColor: '#74ff57',\n            '&:before': {\n\n                color: 'white',\n            }\n        }\n\n\n    }\n});\n\ninterface Props {\n    classes: MaterialUIClasses,\n    label: string\n    onClick: () => void,\n    type: string\n\n}\n\nconst SocialIcon: React.FunctionComponent<Props> = (props) => {\n    const {classes, type, onClick} = props;\n    let getIconType = (type: string): string => {\n        switch (type) {\n            case 'reddit':\n                return 'icon-reddit';\n            case 'youtube':\n                return 'icon-youtube';\n            case 'twitter':\n                return 'icon-twitter';\n            case 'facebook':\n                return 'icon-facebook2';\n            case 'whatsapp':\n                return 'icon-whatsapp';\n\n            default:\n                return 'icon-facebook2'\n        }\n    };\n    return <div onClick={onClick} className={classNames(classes[type], classes.root, getIconType(type),)}/>\n\n};\n\nexport default withStyles(styles)(SocialIcon);","import React, {useState, useEffect, useRef} from 'react';\nimport {createUseStyles} from 'react-jss';\nimport {connect} from 'react-redux';\n\nimport Cookies from 'universal-cookie';\n\nimport classNames from 'classnames';\nimport NumberFormat from 'react-number-format';\nimport { toast } from 'react-toastify';\n\nimport {Carousel} from 'react-responsive-carousel';\nimport 'react-responsive-carousel/lib/styles/carousel.min.css';\n\n\nimport agent from '../../agent';\nimport {redirectUrl} from \"../../api/ApiUtils\";\n\nimport { I18nText } from \"../Widget/I18nText\";\nimport { keyOfI18n } from \"../../constants/locale/interface\";\nimport SocialIcon from '../Widget/SocialIcon';\n\nimport Header from '../Layout/Body/Header';\nimport LoadingPage from '../Layout/LoadingPage';\n\n\nimport {\n    INIT_CART\n} from \"../../constants/actionType\";\n\n\nconst styles = createUseStyles({\n    wrapper: {\n        padding: '0 9%'\n    },\n    navigator: {\n        marginBottom: 45\n    },\n    content: {\n        display: 'flex',\n        flexDirection: 'row-reverse'\n    },\n    viewer: {\n        width: '35%'\n    },\n    detail: {\n        width: '65%',\n        marginRight: 100\n    },\n\n    backArrow: {\n        cursor: 'pointer',\n        backgroundColor: 'transparent',\n        borderWidth: 0,\n        display: 'flex',\n        alignItems: 'center',\n        padding: 0\n    },\n    backIcon: {\n        fontSize: 20,\n        marginRight: 5\n    },\n    backText: {\n        fontFamily: '-apple-system,BlinkMacSystemFont,sans-serif'\n    },\n\n    description: {\n        fontFamily: '-apple-system,BlinkMacSystemFont,sans-serif',\n        color: '#555',\n        fontSize: 15\n    },\n    addBtn: {\n        marginTop: 10,\n        '& > button': {\n            backgroundColor: '#f9f9f9',\n            border: '1px solid #dfdfdf',\n            padding: '10px 20px'\n        }\n    },\n\n    // for mobile\n    '@media (max-width: 600px)': {\n        wrapper: {\n            padding: '0 5%'\n        },\n        viewer: {\n            width: '100%'\n        },\n        detail: {\n            width: '100%',\n            marginRight: 0\n        },\n        content: {\n            display: 'block'\n        },\n    }\n\n    // productCategory: {\n    //     backgroundColor: theme.palette.background.paper\n    // },\n    // toolBar: {\n    //     backgroundColor: ''\n    // },\n\n});\n\n\nconst mapStateToProps = state => ({\n    products: state.product.products,\n    feeds: state.feed.feeds,\n    category: state.category.category,\n});\n\n\nconst mapDispatchToProps = dispatch => ({\n    addToCart: async (selectedVariant, qty) => {\n        // no selected variant\n        if (!selectedVariant) {\n            alert('Please select a variant first.');\n        } else {\n            // get shopping cart\n            let cart = cookies.get('cart'), result = null;\n            // no shopping cart\n            if (!cart) {\n                result = await agent.Checkout.getCart();\n                cart = (((((result || {}).data || {}).data || {}).rows || []).shift() || {}).id;\n                if (cart) cookies.set('cart', cart);\n            }\n            // add item\n            result = await agent.Checkout.addItem(cart, {\n                id: selectedVariant.id,\n                qty\n            });\n            if (!((result || {}).data || {}).result) {\n                alert((((result || {}).data || {}).messages || []).join(\"\\n\") || 'Failed.');\n            } else {\n                // reload items\n                agent.Checkout.initCart(cart).then(res => dispatch(\n                    {\n                        type: INIT_CART,\n                        payload: res.data.data.rows,\n                    }\n                )).catch(err => dispatch(\n            \n                    {\n                        type: INIT_CART,\n                        payload: [],\n                    }\n                ))\n                // return result\n                toast.success('Item added.', {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n            }\n        }\n    }\n});\n\n\nconst cookies = new Cookies();\n\n\nconst ResponsiveDialog = props => {\n    const classes = styles();\n    const {products, match, history} = props;\n    const product = products ? products.find(n => n.id.toString() === match.params.id) : null;\n\n\n    let options = {}, variants = {};\n    ((product || {}).variants || []).forEach(v => (v.description||'').split(',').forEach(desc => {\n        let optr = desc.indexOf(':');\n        const key = desc.substr(0, optr);\n        const value = desc.substring(optr + 1);\n        options[key] = (options[key] || []).concat([value]).filter((val, i, a) => a.indexOf(val) == i);\n        variants[v.id] = variants[v.id] || {\n            id: v.id,\n            media: v.media,\n            price: v.price,\n            stock: v.stock,\n            sku: v.sku,\n            description: []\n        };\n        variants[v.id].description.push(desc);\n    }));\n\n    \n    const [form, setForm] = useState({\n        qty: 1,\n        variant: null\n    });\n\n    if (products == undefined) return <LoadingPage/>;\n    if (!product) return null;\n\n\n    const getSelectedVariant = function() {\n        // get variant\n        let variant = Object.keys(form.variant || {}).map(o => `${o}:${form.variant[o]}`);\n        return variants[Object.keys(variants).filter(id => variants[id].description.length == variants[id].description.filter(v => variant.indexOf(v) >= 0).length)[0]];\n    };\n\n\n    form.variant = form.variant || ((((product || {}).variants || [])[0] || {}).description || '').split(/ *, */).filter(v => v).reduce((container, v) => {\n        const optr = v.indexOf(':');\n        return {\n            ...container,\n            [v.substr(0, optr)]: v.substring(optr + 1)\n        };\n    }, {});\n    const variant = getSelectedVariant();\n\n\n    return <div>\n        <Header\n            title={product.name}\n            classes={{}}\n        />\n        <div className={classes.wrapper}>\n            <div className={classes.navigator}>\n                <button\n                    type=\"button\"\n                    className={classes.backArrow}\n                    onClick={() => redirectUrl('/products', history)}\n                >\n                    <i className={classNames('icon-circle-left', classes.backIcon)}/>&nbsp;\n                    <b><I18nText keyOfI18n={keyOfI18n.FEED_DETAIL_BACK_TO_FEED_LIST}/></b>\n                </button>\n            </div>\n            <div className={classes.content}>\n                <div className={classes.viewer}>\n                    <Carousel>\n                        {(variant.media || product.media).map((m, i) => <div key={i}>\n                            <img src={m.url}/>\n                        </div>)}\n                    </Carousel>\n                </div>\n                <div className={classes.detail}>\n                    <div className={classes.price}>\n                        <NumberFormat\n                            value={variant.price}\n                            thousandSeparator={true}\n                            prefix={'HK$'}\n                            displayType={'text'}\n                            renderText={v => <b>{v}</b>}\n                        />\n                    </div>\n                    <div className={classes.stock}>{variant.stock > 0 ? 'in stock' : 'out of stock'}</div>\n                    <div className={classes.sku}>{variant.sku}</div>\n                    <p className={classes.description}>{product.description}</p>\n                    <div className={classes.form}>\n                        {Object.keys(options).map((o, oi) => <div\n                            key={oi}\n                        >\n                            {o}:{options[o].map((v, vi) => <label\n                                key={vi}\n                            >\n                                <input\n                                    type=\"radio\"\n                                    name={o}\n                                    value={v}\n                                    checked={(variant.description || []).indexOf(`${o}:${v}`) >= 0}\n                                    onChange={e => setForm({\n                                        ...form,\n                                        variant: {\n                                            ...form.variant,\n                                            [e.target.name]: e.target.value\n                                        }\n                                    })}\n                                />\n                                {v}\n                            </label>)}\n                        </div>)}\n                        <div className={classes.qtyGroup}>\n                            <input\n                                type=\"number\"\n                                defaultValue={form.qty || 1}\n                                onChange={e => setForm({\n                                    ...form,\n                                    qty: e.target.value\n                                })}\n                            />\n                            <button\n                                type=\"button\"\n                            >\n                                <span className={'icon-heart'} />\n                            </button>\n                        </div>\n                        <div className={classes.addBtn}>\n                            <button\n                                type=\"button\"\n                                onClick={e => props.addToCart(getSelectedVariant(), form.qty)}\n                            >\n                                <i className={'icon-cart'}/>&nbsp;&nbsp;\n                                <I18nText keyOfI18n={keyOfI18n.ADD_TO_CART}/>\n                            </button>\n                        </div>\n                    </div>\n                    <div className={classes.shares}>\n                        <h6>\n                            <I18nText keyOfI18n={keyOfI18n.PRODUCT_DETAILS_SHARE_THIS_PRODUCT}/>\n                        </h6>\n                        <div className={classes.shareIcons}>\n                            <SocialIcon\n                                type={'whatsapp'}\n                                onClick={() => window.open('https://web.whatsapp.com/send?text=' + window.location.href)}\n                            />\n                            <SocialIcon\n                                type={'facebook'}\n                                onClick={() => window.open('https://www.facebook.com/sharer/sharer.php?u=' + window.location.href)}\n                            />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>;\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResponsiveDialog)"],"sourceRoot":""}