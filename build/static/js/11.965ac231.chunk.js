(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{858:function(e,t,a){"use strict";a.r(t);var r=a(34),n=a.n(r),c=a(5),l=a(50),o=a(0),p=a.n(o),u=a(43),i=a(206),d=a(215),s=(a(60),a(790)),m=a(209),E=a(13),O=a.n(E),b=a(838),f=(a(836),a(40)),h=a(105),x=a(7),I=a(19),g=a(11),y=a(41),C=Object(i.a)({wrapper:{padding:"0 9%",display:"flex"},formGroup:{flex:1,margin:"0 10px","&:first-child":{marginLeft:0},"&:last-child":{marginRight:0}},formInput:{width:"100%",height:40,borderRadius:5,border:"1px solid #dadada",padding:"0 15px"},inputSet:{margin:"15px -5px -5px","&:first-child":{marginTop:-5}},inputGroup:{display:"flex"},inputWrapper:{display:"flex",flex:1,margin:5},phoneInput:{display:"flex","& > div":{flex:1},"& > div > input":{width:"100%"}},"@media (max-width: 1200px)":{inputGroup:{display:"block"},inputSet:{"&:last-child":{marginTop:30}}},"@media (max-width: 600px)":{wrapper:{display:"block"},formGroup:{margin:0,"&:last-child":{marginTop:60}},inputGroup:{display:"block"},inputSet:{"&:last-child":{marginTop:30}}}});t.default=Object(d.a)(Object(u.b)(function(e){return{items:e.cart.items,order:e.cart.order}},function(e,t){return{placeOrder:function(){var a=Object(l.a)(n.a.mark(function a(r){var l,o;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r.agree){a.next=4;break}m.b.error("Please accept the terms and conditions to continue your action.",{position:m.b.POSITION.TOP_RIGHT}),a.next=21;break;case 4:if(a.prev=4,l=t.cookies.get("cart"),o=null,l){a.next=12;break}return a.next=9,f.a.Checkout.getCart();case 9:o=a.sent,(l=(((((o||{}).data||{}).data||{}).rows||[]).shift()||{}).id)&&t.cookies.set("cart",l);case 12:return a.next=14,f.a.Checkout.placeOrderWithoutLogin(Object(c.a)({},r,{items:l}));case 14:(((o=a.sent)||{}).data||{}).result&&(t.cookies.remove("cart"),e({type:x.q,payload:[]}),m.b.success("Order successed.",{position:m.b.POSITION.TOP_RIGHT})),a.next=21;break;case 18:a.prev=18,a.t0=a.catch(4),m.b.error(((a.t0.response.data||{}).messages||[]).join("\n")||a.t0.message,{position:m.b.POSITION.TOP_RIGHT});case 21:case"end":return a.stop()}},a,null,[[4,18]])}));return function(e){return a.apply(this,arguments)}}(),updateOrder:function(t){return e({type:x.h,payload:t})},checkCoupons:function(){var e=Object(l.a)(n.a.mark(function e(t){var a,r,c;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<1)){e.next=4;break}m.b.error("Please enter the coupon code(s).",{position:m.b.POSITION.TOP_RIGHT}),e.next=14;break;case 4:return e.prev=4,e.next=7,f.a.Checkout.getPromoCode(t);case 7:(((a=e.sent)||{}).data||{}).result&&(r=[],c=((a.data.data||{}).rows||[]).reduce(function(e,t){return e[t.code]=t,e},{}),t.split(/ *, */).filter(function(e){return e}).forEach(function(e){c[e]||r.push("".concat(e," is invalid."))}),r.length>0?m.b.error(r.join("\n"),{position:m.b.POSITION.TOP_RIGHT}):m.b.success("All coupons are valid.",{position:m.b.POSITION.TOP_RIGHT})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),m.b.error(((e.t0.response.data||{}).messages||[]).join("\n")||e.t0.message,{position:m.b.POSITION.TOP_RIGHT});case 14:case"end":return e.stop()}},e,null,[[4,11]])}));return function(t){return e.apply(this,arguments)}}(),editProductSort:function(t,a){return e({type:x.u,payload:{key:t,value:a}})},editProductFilter:function(t,a){return e({type:x.t,payload:{key:t,value:a}})}}})(function(e){var t=C(),a=e.items;e.order;return p.a.createElement("div",null,p.a.createElement(h.a,{title:Object(y.a)(g.a.CHECKOUT)}),p.a.createElement("div",{className:t.wrapper},p.a.createElement("div",{className:t.formGroup},p.a.createElement("div",null,p.a.createElement("h3",null,p.a.createElement(I.a,{keyOfI18n:g.a.CHECKOUT_YOUR_ORDER_SUMMARY})),p.a.createElement("table",{style:{width:"100%",boxShadow:"0px 1px 5px 0px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 3px 1px -2px rgba(0,0,0,0.12)",borderRadius:4,backgroundColor:"#f7f7f7"}},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("td",null,p.a.createElement(I.a,{keyOfI18n:g.a.PRODUCTS})),p.a.createElement("td",null,p.a.createElement(I.a,{keyOfI18n:g.a.PRICE})))),p.a.createElement("tbody",null,(a||[]).map(function(e,t){return p.a.createElement("tr",{key:t},p.a.createElement("td",null,"".concat(e.name," x ").concat(e.qty,"(").concat(e.variant,")")),p.a.createElement("td",null,p.a.createElement(s.a,{value:e.price*e.qty,thousandSeparator:!0,prefix:"HK$",displayType:"text"})))}),(a||[]).length<1&&p.a.createElement("tr",null,p.a.createElement("td",null,p.a.createElement(I.a,{keyOfI18n:g.a.CART_NO_ITEMS_TO_SHOW})))),(a||[]).length>0&&p.a.createElement("tfoot",null,p.a.createElement("tr",null,p.a.createElement("td",null,"Total Amount"),p.a.createElement("td",null,p.a.createElement(s.a,{value:(a||[]).reduce(function(e,t){return e+t.qty*t.price},0),thousandSeparator:!0,prefix:"HK$",displayType:"text"}))),p.a.createElement("tr",null,p.a.createElement("td",{colSpan:"2"},p.a.createElement("input",{id:"agree",type:"checkbox",onChange:function(t){return e.updateOrder(Object(c.a)({},e.order,{agree:t.target.checked}))}}),p.a.createElement("label",{htmlFor:"agree"},p.a.createElement(I.a,{keyOfI18n:g.a.TERM_AND_CONDITIONS})))),p.a.createElement("tr",null,p.a.createElement("td",{colSpan:"2"},p.a.createElement("button",{type:"button",onClick:function(t){return e.placeOrder(e.order)}},p.a.createElement(I.a,{keyOfI18n:g.a.ORDER_SUMMARY_PLACE_ORDER}))))))),p.a.createElement("br",null),p.a.createElement("div",null,p.a.createElement("h3",null,p.a.createElement(I.a,{keyOfI18n:g.a.CHECKOUT_PROMO_CODE})),p.a.createElement("table",{style:{width:"100%",boxShadow:"0px 1px 5px 0px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 3px 1px -2px rgba(0,0,0,0.12)",borderRadius:4,backgroundColor:"#f7f7f7"}},p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",null,p.a.createElement("input",{type:"text",placeholder:Object(y.a)(g.a.PROMO_CODE_TYPE_YOUR_PROMO_CODE_HERE),style:{padding:"0 10px",borderRadius:5,border:"1px solid #dadada",minHeight:40},onChange:function(t){return e.updateOrder(Object(c.a)({},e.order,{coupons:t.target.value}))}})),p.a.createElement("td",null,p.a.createElement("button",{type:"button",onClick:function(t){return e.checkCoupons((e.order||{}).coupons||"")}},p.a.createElement(I.a,{keyOfI18n:g.a.PROMO_CODE_CHECK_BTN})))))))),p.a.createElement("div",{className:t.formGroup},p.a.createElement("h3",null,p.a.createElement(I.a,{keyOfI18n:g.a.CHECKOUT_BILLING_DETAIL})),p.a.createElement("div",null,p.a.createElement("div",{className:t.inputSet},p.a.createElement("div",{className:t.inputGroup},p.a.createElement("div",{className:t.inputWrapper},p.a.createElement("input",{type:"text",className:t.formInput,placeholder:Object(y.a)(g.a.FIRST_NAME),onChange:function(t){return e.updateOrder(Object(c.a)({},e.order,{contact:Object(c.a)({},(e.order||{}).contact,{first_name:t.target.value})}))}})),p.a.createElement("div",{className:t.inputWrapper},p.a.createElement("input",{type:"text",className:t.formInput,placeholder:Object(y.a)(g.a.LAST_NAME),onChange:function(t){return e.updateOrder(Object(c.a)({},e.order,{contact:Object(c.a)({},(e.order||{}).contact,{last_name:t.target.value})}))}}))),p.a.createElement("div",{className:t.inputGroup},p.a.createElement("div",{className:t.inputWrapper},p.a.createElement("input",{type:"text",className:t.formInput,placeholder:Object(y.a)(g.a.EMAIL_ADDRESS),onChange:function(t){return e.updateOrder(Object(c.a)({},e.order,{contact:Object(c.a)({},(e.order||{}).contact,{email:t.target.value})}))}})),p.a.createElement("div",{className:t.inputWrapper},p.a.createElement(b.a,{type:"text",className:O()(t.formInput,t.phoneInput),placeholder:Object(y.a)(g.a.CHECKOUT_BILLING_DETAIL_PHONE_PLACEHOLDER),onChange:function(t){return e.updateOrder(Object(c.a)({},e.order,{contact:Object(c.a)({},(e.order||{}).contact,{phone:t})}))}}))),p.a.createElement("div",{className:t.inputWrapper},p.a.createElement("input",{type:"text",className:t.formInput,placeholder:Object(y.a)(g.a.CHECKOUT_BILLING_STREET_ADDRESS),onChange:function(t){return e.updateOrder(Object(c.a)({},e.order,{shipping:Object(c.a)({},(e.order||{}).shipping,{address:t.target.value})}))}}))),p.a.createElement("div",{className:t.inputSet},p.a.createElement("div",{className:t.inputWrapper},p.a.createElement(s.a,{format:"#### #### #### ####",className:t.formInput,placeholder:Object(y.a)(g.a.CHECKOUT_BILLING_DETAIL_VISA_PLACEHOLDER),onValueChange:function(t){var a=t.value;return e.updateOrder(Object(c.a)({},e.order,{payment:Object(c.a)({},(e.order||{}).payment,{card:a})}))}})),p.a.createElement("div",{className:t.inputGroup},p.a.createElement("div",{className:t.inputWrapper},p.a.createElement(s.a,{format:"##/##",className:t.formInput,placeholder:Object(y.a)(g.a.CHECKOUT_BILLING_EXPIRY_DATE),mask:["M","M","Y","Y"],onValueChange:function(t){var a=t.formattedValue;return e.updateOrder(Object(c.a)({},e.order,{payment:Object(c.a)({},(e.order||{}).payment,{exp_date:a})}))}})),p.a.createElement("div",{className:t.inputWrapper},p.a.createElement(s.a,{format:"###",className:t.formInput,placeholder:Object(y.a)(g.a.CHECKOUT_BILLING_CVC),onValueChange:function(t){var a=t.value;return e.updateOrder(Object(c.a)({},e.order,{payment:Object(c.a)({},(e.order||{}).payment,{csc:a})}))}}))))))))}))}}]);
//# sourceMappingURL=11.965ac231.chunk.js.map